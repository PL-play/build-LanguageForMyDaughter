<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>稚 Playground</title>
    <link rel="icon" href="favicon/zhi.ico" type="image/x-icon">

    <!-- 引入外部 CSS 文件 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.9/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.9/theme/monokai.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.9/theme/darcula.min.css">
    <link rel="stylesheet" href="css/style.css"> <!-- 自定义样式 -->

    <style>
        /* 美化捐赠按钮 */
        #donateButton {
            background-color: #3a3a3a; /* 使用和页面背景更融合的颜色 */
            border: none;
            color: #f9a825;
            padding: 5px 15px; /* 缩小按钮的大小 */
            text-align: center;
            text-decoration: none;
            font-size: 14px;
            cursor: pointer;
            border-radius: 5px;
            margin-left: 10px;
        }

        #donateButton:hover {
            background-color: #5a5a5a; /* 鼠标悬停时稍微变亮 */
        }

        /* 模态窗口样式 */
        .modal {
            display: none; /* 初始状态隐藏 */
            position: fixed; /* 固定位置，覆盖整个屏幕 */
            z-index: 1000; /* 确保在最上层 */
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.5); /* 半透明黑色背景 */
        }

        .modal-content {
            background-color: #fefefe;
            margin: auto;
            padding: 20px;
            border: none;
            width: 400px; /* 调整模态窗口宽度，使二维码更大 */
            text-align: center;
            border-radius: 10px;
            position: relative; /* 相对于父元素定位 */
            top: 50%;
            transform: translateY(-50%); /* 垂直居中 */
        }

        .close {
            color: #aaa;
            position: absolute; /* 绝对定位用于放置关闭按钮 */
            top: 10px;
            right: 15px;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }

        #qrCodeImage {
            width: 90%; /* 占满大部分模态窗口，使二维码更大 */
            height: auto;
        }
    </style>
</head>
<body>
<div id="header">婴儿编程 | ZHI / 稚 1.0.0</div>
<div id="subHeader">献给朵朵 | 你的第一堂编程课</div>
<div id="githubLink">
    by Ran | zhangran42@126.com | GitHub:
    <a href="https://github.com/PL-play/build-LanguageForMyDaughter" target="_blank">
        https://github.com/PL-play/build-LanguageForMyDaughter
    </a>
    <button id="donateButton" onclick="showQRCode()">捐赠</button> <!-- 更融合背景的捐赠按钮 -->
</div>

<div id="container">
    <div id="astAndByteCodeContainer">
        <div id="astContainer" class="placeholder">AST（抽象语法树）将在这里显示</div>
        <div id="byteCodeContainer" class="placeholder">字节码将在这里显示</div>
    </div>
    <div id="codeAndOutputContainer">
        <div id="editor"></div>
        <div id="buttonsContainer">
            <button id="selectButton" onclick="selectCode()">选择故事</button>
            <button id="runButton" onclick="processInput()">运行代码</button>
        </div>
        <textarea id="output">运行结果将在这里显示</textarea>
    </div>
    <div id="statusBar" class="placeholder">虚拟机状态信息将在这里显示</div>
</div>

<!-- 模态窗口，用于显示二维码 -->
<div id="qrCodeModal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="hideQRCode()">&times;</span>
        <img id="qrCodeImage" src="thumbnail/donate.jpg" alt="二维码">
    </div>
</div>

<!-- 引入 CodeMirror 的 JavaScript -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.9/codemirror.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.9/mode/javascript/javascript.min.js"></script>

<!-- 引入外部 JavaScript 文件 -->
<script src="js/script.js"></script>
<!-- 加载 WebAssembly JavaScript 文件 -->
<script src="wasm/ZHI_wasm.js"></script>

</body>
</html>
